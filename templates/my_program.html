{% extends "layout.html" %}

{% block body %}

<div class="container">
	<div class="row">
			<div class="col-10 mx-auto">
					{% with messages = get_flashed_messages() %}
							{% if messages %}
							<div id="announce" class="alert alert-info alert-dismissible fade show mt-1">
									<ul>
											{% for message in messages %}
													<li>{{ message }}</li>
											{% endfor %}
									</ul>
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>
							{% endif %}
					{% endwith %}
			</div>
	</div>
	<div class="row">
		<div class="col-10 mx-auto my-4">
			<h1 class="title text-center">My Favorite Programs</h1>
		</div>

		<div class="table-responsive mb-2">
			<table class="table">
				<colgroup>
					<col style="width: 15%;">
					<col style="width: 40%;">
					<col style="width: 15%;">
					<col style="width: 15%;">
					<col style="width: 15%;">
				</colgroup>
				<thead class="table-light">
					<th>Station</th>
					<th>Program</th>
					<th class="text-center">Start Time</th>
					<th class="text-center">End Time</th>
					<th class="text-center">Show</th>
				</thead>
			</table>
		</div>
		{% for day, programs in program_by_day.items() %}
			{% if programs %}
				<h3>{{ day }}</h3>
				<div class="table-responsive my-3">
					<table class="table table-hover">
						<colgroup>
							<col style="width: 15%;">
							<col style="width: 40%;">
							<col style="width: 15%;">
							<col style="width: 15%;">
							<col style="width: 15%;">
						</colgroup>
						<tbody>
							{% for program in programs %}
								<tr>
									<td>{{ program[1] }}</td>
									<td>{{ program[2] }}</td>
									<td class="text-center">{{ program[3] }}</td>
									<td class="text-center">{{ program[4] }}</td>
									<td class="text-center">
										<a class="btn btn-primary btn-sm" href="{{url_for('program_show', id=program[0])}}">Show</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			{% endif %}
		{% endfor %}
	</div>
</div>

{% endblock %}