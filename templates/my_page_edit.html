{% extends "layout.html" %}

{% block body %}

<div class="container">
	<div class="row">
			<div class="col-8 mx-auto">
					{% with messages = get_flashed_messages() %}
							{% if messages %}
							<div id="announce" class="alert alert-danger alert-dismissible fade show mt-1">
									<ul>
											{% for message in messages %}
													<li>{{ message }}</li>
											{% endfor %}
									</ul>
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>
							{% endif %}
					{% endwith %}

					<div class="alert alert-success mt-3 mb-3" role="alert">
							<h1 class="title">My Information Edit</h1>
					</div>
					<form class="box" method="POST"  enctype="multipart/form-data">
							<div class="input-group mb-3">
									<span class="input-group-text" id="basic-addon1"><i class="fas fa-user"></i></span>
									<input type="text" class="form-control" name="username" value="{{ my.username }}" aria-label="Username" aria-describedby="basic-addon1" autofocus>
							</div>

							<div class="input-group mb-3">
									<span class="input-group-text" id="basic-addon1"><i class="fas fa-envelope"></i></span>
									<input type="text" class="form-control" name="email"  value="{{ my.email }}" aria-label="Email" aria-describedby="basic-addon1">
							</div>

							<div class="input-group mb-3">
								<span class="input-group-text">Introduction</span>
								<textarea class="form-control" name="introduction" aria-label="With textarea">{% if my.introduction != None %}{{ my.introduction }}{% endif %}</textarea>
							</div>

							<div class="input-group mb-3">
									<input type="file" class="form-control" id="inputGroupFile02" accept="image/*" name="pict">
									<label class="input-group-text" for="inputGroupFile02">Profile Image</label>
							</div>

							<div class="input-group mb-3">
									<span class="input-group-text" id="basic-addon1"><i class="fas fa-key"></i></span>
									<input type="password" class="form-control" name="password" placeholder="If you want to Update, Input New Password" aria-label="password" aria-describedby="basic-addon1">
							</div>

							<div class="input-group mb-3">
									<span class="input-group-text" id="basic-addon1"><i class="fas fa-key"></i></span>
									<input type="password" class="form-control" name="confirm" placeholder="Confirm New Password" aria-label="confirm" aria-describedby="basic-addon1">
							</div>

							<div class="btn-group mb-3" role="group" aria-label="Basic radio toggle button group">
								<input type="radio" class="btn-check" name="is_public" value="1" id="btnradio1" autocomplete="off" {% if my.is_public == 1 %}checked="checked"{% endif %}>
								<label class="btn btn-outline-danger" for="btnradio1"><i class="fas fa-lock-open"></i> Public</label>

								<input type="radio" class="btn-check" name="is_public" value="0" id="btnradio2" autocomplete="off" {% if my.is_public == 0 %}checked="checked"{% endif %}>
								<label class="btn btn-outline-info" for="btnradio2"><i class="fas fa-lock"></i> Private</label>
							</div>

						<div class="input-group mb-3">
							<span class="input-group-text" id="basic-addon1"><i class="fas fa-key"></i></span>
							<input type="password" class="form-control" name="old_password" placeholder="Old Password" aria-label="old_password" aria-describedby="basic-addon1">
						</div>

						<div class="text-center">
								<button class="btn btn-success my-2" type="submit" name="submit_button" value="submit">Update</button>
								<a class="btn btn-secondary ms-3 my-2" href="{{url_for('my_page')}}">Back to My Page</a>
						</div>
					</form>
			</div>
	</div>
</div>

{% endblock %}